# External

This directory contains all of the service and library like components
that handle the data layer operations. This directory is split into two
different components, Firebase and StorageManager.

| Name           | Explanation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:---------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| StorageManager | This library acts as an interface between the rest of the application and the local storage. This library utilises the Storage API within Capacitor. By default when using a desktop web browser this will revert to the LocalStorage exposed by the API. However, when on mobile devices this library leverages other advanced techniques and libraries to help sustain persistence again factors such as periodic clearing. This library also tries its best to cache information such as stop departures. Some of the functions within this library return a `StorageResponse` object which contains additional metadata for success / failure as well as any error messages and the returned data. This is very similar to the `fetch` API exposed by the browser. Note: Some of the setters within this library also take an optional `firebase.User` reference. If this argument is present then the method will also try to sync the changes with Firestore. |
| Firestore      | This script acts as a service / library and configures `Firebase` for the project. Within this file, we add various helper methods that can be used to perform the different actions related to authentication and updating fields within Firestore. Although the `auth` object is accessible by the entire project, the current active User is exposed by the user Context within `src/providers/UserProvider`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

